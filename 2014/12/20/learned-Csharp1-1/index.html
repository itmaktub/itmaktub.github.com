
 <!DOCTYPE HTML>
<html lang="zh_CN">
<head>
  <meta charset="UTF-8">
  
    <title>C# 学习总结(一) | 哼嘿哈嘿哈的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="itmaktub">
    
    <meta name="description" content="习惯这种东西是很可怕的，你让一个学C语言的去写C#，他写出来的程序还是C语言的格式，让一个C++程序员去写C语言，写出来的依然是C++风格。我就是前者，没有丝毫OO的概念，还是使用函数来写程序，因为C#只是在做毕设的时候有所涉猎，又没有老师指点，所以一些很基础的知识都会让我苦恼很久，还好有谷歌。
　">
    
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="itmaktub" />
    <meta name="twitter:title" content="C# 学习总结(一) | 哼嘿哈嘿哈的博客" />
      
    
    
    <link rel="alternate" href="/" title="哼嘿哈嘿哈的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="哼嘿哈嘿哈的博客">哼嘿哈嘿哈的博客</a></h1>
				<h2 class="blog-motto">又一个家~</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">文章</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:itmaktub.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/12/20/learned-Csharp1-1/" title="C# 学习总结(一)" itemprop="url">C# 学习总结(一)</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://itmaktub.com" title="itmaktub">itmaktub</a>
    </p>
  <p class="article-time">
    <time datetime="2014-12-20T03:41:22.000Z" itemprop="datePublished">2014-12-20</time>
    更新日期:<time datetime="2014-12-20T03:45:07.086Z" itemprop="dateModified">2014-12-20</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		
		</div>
		
		<p>　　习惯这种东西是很可怕的，你让一个学C语言的去写C#，他写出来的程序还是C语言的格式，让一个C++程序员去写C语言，写出来的依然是C++风格。我就是前者，没有丝毫OO的概念，还是使用函数来写程序，因为C#只是在做毕设的时候有所涉猎，又没有老师指点，所以一些很基础的知识都会让我苦恼很久，还好有谷歌。</p>
<p>　　基本上，接触的都是串口类的应用，至今记得是从CSDN上那个连载篇上弄来的基础类，之后的所有操作都是在这个基础上做的。对对象、类这些概念稀里糊涂的，直到前几天看了传智播客面向对象的培训教程，才可以学着去使用面向对象的思想去编程。还真是方便了很多。<br>　　总结一下最近使用到的所有知识点吧，免得时间久了自己也记不住了，纯属自己理解，不一定正确。仅仅说些思想，不举实例。</p>
<p>　　一、命名空间、类、方法、继承、异常</p>
<p>　　一个命名空间下面有很多的类，一个类下面又有很多的方法，一般小型的应用只使用一个命名空间就够了，但是类、方法的数目就要根据项目的需要去设定了。</p>
<p>　　举个传智播客视频看到的例子，我们要做一个聊天机器人，　会首先考虑这个机器人能实现哪些功能吧，比如：吃饭、跑步、说话。为了方便以后的调用，我们会建立一个机器人类，这个机器人类有着上面提到功能的实现方法。当需要使用机器人时，我们就会new一个机器人对象，然后直接调用上述的方法，</p>
<p>　　如果有多种不同的机器人，这时候就会使用到继承的概念，一个基础的机器人类会衍生出很多不同的机器人类，比如做家务的，做家教的，防身的，拖地的等等等。。。。这时候，只需要从最基础的那个类继承一下，再添加上各自不同的功能方法就可以方便的实现了。</p>
<p>　　假如一个机器人是有年纪的，在赋值的时候只能是数字 且在一个范围之间，一旦因为某种原因导致传进去的值不是数字，那么程序就会抛出异常，若我们在程序中使用了捕获异常，那么就会按照我们的补救措施去继续执行，以防止一招不慎满盘皆输的情况出现。</p>
<p>　　二、字符</p>
<p>　　byte,char,string,byte[],string[],int,这些不同类型变量之间的转换是必须要弄清楚的，在涉及到16进制的时候，也是不一样的，这是要注意的地方。可以看这篇文章：挺详细的。<br>　　<a href="http://www.cnblogs.com/wenwei/archive/2011/10/14/2212367.html" target="_blank" rel="external">http://www.cnblogs.com/wenwei/archive/2011/10/14/2212367.html</a></p>
<p>　　在串口应用中，还涉及到一些特殊的处理，比如在发送数据时，不仅要对数据的正确性进行判断，而且要避开空格 换行等特殊字符，并且会有十六进制与ascii的区别。</p>
<p>　　因为我的串口程序针对的是下面的灯具，灯具是有地址的，地址以16进制表示，之前一直用TextBox来显示，后来接触到numbericupdown，这个控件的好处就是在你限定了最大值和最小值后，用户是无法输入错误的数据的。相当省事有木有，当然，可能也会在一些特殊的时候带来麻烦，比如从其它地方复制过来的数据，中间夹着空格，就完蛋了。。。。</p>
<p>　　三、图表</p>
<p>　　从做毕设的时候接触到ZedGraph控件后，就一直没有换过其它的控件，这个使用很方便，显示效果也不错。具体可以看这里<br>　　<a href="http://www.codeproject.com/Articles/5431/A-flexible-charting-library-for-NET" target="_blank" rel="external">http://www.codeproject.com/Articles/5431/A-flexible-charting-library-for-NET</a></p>
<p>　　以前总是使用文本框来显示数据，但在数据包含很多字段的时候，总觉得不专业，后来就学着使用listview控件，效果也挺好。这里有一篇文章写的不错<br>　　<a href="http://blog.csdn.net/chen_zw/article/details/7910324" target="_blank" rel="external">http://blog.csdn.net/chen_zw/article/details/7910324</a></p>
<p>　　四、WinForm</p>
<p>　　程序外观方面，基本上是仁者见仁智者见智，但是在UI交互方面，还是需要学习的，我觉得，初期的时候，像我们这样新人，是要学着去模仿的，多去看人家的，跟上别人的步伐，再去想如何超越别人。三个字：多尝试。没有谁天生就是牛逼哄哄的。要相信，别人行，你就行。</p>
<p>　　要让交互变得自然，让使用者感觉到一切很顺手。举个自己的例子：我的串口程序会在启动时检查所有可用的串口并显示到串口选择下拉框中去。但是一旦中间串口经过插拔，比如去除或者新添了串口，是不是就得关闭串口重新打开？为了解决这个问题，我在下拉框旁边添加了一个刷新按钮，点击后就可以刷新当前可用串口，一直觉得这个设计不错，直到前两天写一个程序的时候，考虑到版面简洁的问题，通过另一种方法实现了这些功能：</p>
<p>　　既然一个人新插拔了串口，那么他一定会去点击下拉框进行查看的对吧，这时候，把之前的串口刷新方法添加到这个下拉框的点击事件中去，不就实现了动态刷新了吗？还有，之前的打开/关闭串口都是使用一个按钮来控制的，当用户在选择一个端口号的时候，去实现一个关闭当前串口，打开当前选择串口的事件，不就可以省去一个按钮了吗，使用哪个串口就点击下拉框，选择，然后接着执行。很好的处理有木有。</p>
<p>　　五、版本更新</p>
<p>　　博客一直在这闲置着，虽然使用的是github，但是域名毕竟是人民币买的呀。于是考虑在程序中添加版本更新功能，嗯，只要是觉得牛逼的功能，我都会去尝试着实现。</p>
<p>　　一开始，我使用自己的电脑作为服务器，花生壳解析IP呗，发现速度很慢，甚至会有卡出翔的情况（木有使用多线程，是不会。。。。），但是考虑到github是公开的，我们毕竟是大公司，要是软件泄露出去了，会不会有什么不良后果啊。后来想到，加密吧，最简单的方案：7z命令行。软件发布的时候加密，在检查到更新的时候，先下载远程的加密文件到缓存文件夹，再解密到指定的文件夹中去。这样就可以保证安全问题了。</p>
<p>　　在之前，这个功能是做在了菜单栏中去的，后来的界面去除了菜单栏，于是我将它弄到了启动前，这样既避免了UI卡的问题，又可以在使用前进行提醒（关闭了一些异常处理和错误提示，只有正确联网的情况下才会显示）。</p>
<p>　　一些技巧就是文件打包加密、压缩、处理好缓存文件、旧文件等</p>
<p>　　六、配置文件</p>
<p>　　差点把这个忘了，为了提升软件的逼格，我又添加了配置文件的读取和写入，一些关键的地方比如：指定配置文件名，在没有配置文件时新建配置文件，何时保存配置文件，具体的可以查看这几个链接，都写的很专业。<br>　　<a href="http://www.cnblogs.com/cadlife/articles/2245776.html" target="_blank" rel="external">http://www.cnblogs.com/cadlife/articles/2245776.html</a><br>　　<a href="http://www.cnblogs.com/luxiaoxun/p/3599341.html" target="_blank" rel="external">http://www.cnblogs.com/luxiaoxun/p/3599341.html</a><br>　　<a href="http://www.cnblogs.com/schwann/archive/2011/03/27/1997302.html" target="_blank" rel="external">http://www.cnblogs.com/schwann/archive/2011/03/27/1997302.html</a></p>
<p>　　七、屏幕键盘</p>
<p>　　一开始是因为在主机柜上使用时，需要插鼠标键盘，很不方便，便计划做一款屏幕键盘，最开始使用<br><a href="http://www.cnblogs.com/youzai/archive/2008/05/19/1202732.html" target="_blank" rel="external">http://www.cnblogs.com/youzai/archive/2008/05/19/1202732.html</a><br>这位哥们是个人才啊，但是这个程序对我来说使用有些困难，因为我使用的是C#5.0 .net4.0平台，而他的程序转换后会出现一些我解决不了的问题，且这个过于庞大和复杂，没办法，只好放弃。</p>
<p>　　再后来，找到了一个使用keybd_event方案的<br><a href="http://chengengjie.blog.163.com/blog/static/12633139720122181137556/" target="_blank" rel="external">http://chengengjie.blog.163.com/blog/static/12633139720122181137556/</a><br>，这才是我想要的啊，于是最终一个华丽丽的屏幕键盘就出现了，当勾选使用屏幕键盘后，在点击文本框使文本框获取焦点后，就会在指定位置弹出一个屏幕键盘。一旦失去焦点，又会自觉的隐藏起来，多说一句，之前用new和Dispose，结果发现内存很容易飙升，后来就使用hide和show了。内存控制还可以。</p>
<p>　　八、数据分析</p>
<p>　　在对很多数据进行分析的时候，由于我之前采用的是文本存储，加上一定的标识来区分不同状态，这样就可以进行筛选，但是，在数据超出1000之后，会明显的感觉到处理数据的速度开始减缓，甚至在达到5000左右时，程序很容易无法响应而关闭。</p>
<p>　　其实是那时候还没有接触到listview，回头修改一下，加上分页功能，看看是否可以解决问题。当然，文本存储只适用于小数据，大的还是使用数据库方便，嗯，数据库还不会用( ╯□╰ )</p>
<p>　　就写这么多吧，回头再总结一下硬件。基本上，这段时间也就学习了这么多。。。。。</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/C/">C#</a>
  </div>




<div class="article-share" id="share">

  <div data-url="http://itmaktub.com/2014/12/20/learned-Csharp1-1/" data-title="C# 学习总结(一) | 哼嘿哈嘿哈的博客" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/04/04/how_many_lamps/" title="深化图纸时使用CAD数数有多少个灯具">
  <strong>PREVIOUS:</strong><br/>
  <span>
  深化图纸时使用CAD数数有多少个灯具</span>
</a>
</div>


<div class="next">
<a href="/2014/09/27/try_to_use_FSM/"  title="尝试使用状态机的思想去编程">
 <strong>NEXT:</strong><br/> 
 <span>尝试使用状态机的思想去编程
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
  
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  <iframe id="sina_widget_2363006157" style="width:100%; height:500px;" frameborder="0" scrolling="no" src="http://v.t.sina.com.cn/widget/widget_blog.php?uid=2363006157&height=500&skin=wd_01&showpic=1"></iframe>

  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">歸檔</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">2</span></li></ul>
  </div>


  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
      <li><a href="http://yangjian.me" target="_blank" title="YangJian">Alimon's Blog</a></li>
      <li><a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a></li>
    </ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/yanqueboy" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/itmaktub" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/itmaktub" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2016 
		
		<a href="http://itmaktub.com" target="_blank" title="itmaktub">itmaktub</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"itmaktub"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-54091487-1', 'itmaktub.com');  
ga('send', 'pageview');
</script>


  </body>
</html>
